<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta hxxp-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="../src/xx-ui.css">
        <title>Document</title>
    </head>
    <body><div class="xx-mask"></div>
        <div class="xx-header">
            <div class="left"><i class="fa fa-chevron-left"></i> 返回</div>
            <div class="title">搜索框</div>
            <div class="right"><i class="fa fa-ellipsis-h"></i></div>
        </div>
        <div class="xx-navbar">
            <a class="navbar-item active">
                <i class="fa fa-home icon"></i>
                <span class="name">首页</span>
            </a>
            <a class="navbar-item active">
                <i class="fa fa-list icon"></i>
                <span class="name">分类</span>
            </a>
            <a class="navbar-item">
                <i class="fa fa-search icon"></i>
                <span class="name">发现</span>
            </a>
            <a class="navbar-item">
                <i class="fa fa-user-o icon"></i>
                <span class="name">我的</span>
            </a>
        </div>
        <div class="xx-content">

            <!-- 带suggest的搜索框 -->
            <div class="xx-search">
                <!-- 搜索框 -->
                <form class="xx-search-form" action="#">
                    <div class="xx-search-input-wrap">
                        <i class="fa fa-search xx-search-icon"></i>
                        <input type="text" class="xx-search-input"
                            placeholder="搜索" autocomplete="off" required />
                        <i class="fa fa-close xx-search-clear"></i>
                    </div>
                    <span class="xx-search-cancel">
                        <i class="fa fa-close"> close</i>
                    </span>
                </form>
                <!-- 搜索建议 -->
                <ul class="xx-search-suggest">
                    <li class="xx-suggest-item">手机</li>
                    <li class="xx-suggest-item">iPhone XS Max</li>
                    <li class="xx-suggest-item">华为P30</li>
                    <li class="xx-suggest-item">小米 MIX3</li>
                    <li class="xx-suggest-item">诺基亚1110</li>
                </ul>
            </div>
            <p class="content">内容区</p>



        </div>

    </body>
    <script>
        document.querySelector(".xx-search-input").oninput = function(){
            console.log(this.closest(".xx-search"))
            console.log(this.value);
            if(this.value  == '')
                this.closest(".xx-search").classList.remove("on-focus");
           else
                this.closest(".xx-search").classList.add("on-focus");
        }
        document.querySelector(".xx-search-clear").onclick = function(){
            // alert(this.parentElement.childNodes)
            document.querySelector(".xx-search-input").value = '';
            //closet only works for parents
            this.closest(".xx-search").classList.remove("on-focus");
        }

    </script>
</html>